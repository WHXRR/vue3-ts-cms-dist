import{u as E}from"./vue-router-6d605675.js";import{d as I,r as c,aY as n,a as w,ab as $,bu as s,c as e,bw as G,I as k,b8 as h,b as P,ad as d,F as J,aX as M,u as L}from"./@vue-249e6205.js";import{u as g,a as Q,i as V,_ as W,__tla as Z}from"./index-c7da5318.js";import{a6 as ee,a7 as ae}from"./@ant-design-1a91f59a.js";import"./pinia-b4bb1fe0.js";import"./dayjs-c16566d5.js";import"./ant-design-vue-4b8e1ea3.js";import"./@babel-727ea1f3.js";import"./@ctrl-fb5a5473.js";import"./resize-observer-polyfill-3d106987.js";import"./@emotion-f7664732.js";import"./stylis-fad5b415.js";import"./scroll-into-view-if-needed-6b992d05.js";import"./compute-scroll-into-view-183f845a.js";import"./vue-types-0b7bf9f6.js";import"./dom-align-ecb06dd6.js";import"./lodash-es-fa11e39e.js";import"./async-validator-7f96df71.js";import"./throttle-debounce-87e7e444.js";import"./axios-82afda87.js";import"./nprogress-afa1df2f.js";import"./vue-i18n-50aabb0e.js";import"./@intlify-f45a2def.js";let U,te=Promise.all([(()=>{try{return Z}catch{}})()]).then(async()=>{const x="/assets/1-aa9381ad.png",A="/assets/2-98df88fe.png",K="/assets/3-bb352a8d.png",R="/assets/4-4e8f1f4c.png",q="/assets/5-e1507710.png",C="/assets/6-07f12191.png",S="/assets/7-cfa5b632.png",j=I({__name:"AccountForm",emits:["handleLogin"],setup(F,{expose:_,emit:i}){const o=c(),t=c({name:g.getItem("cmsAccount")??"root",password:g.getItem("cmsPassword")??"123456"}),r=()=>new Promise((u,a)=>{o.value.validate().then(()=>{u(!0)}).catch(()=>{a(!1)})}),f=()=>{i("handleLogin")};return _({validateForm:r,accountFormState:t}),(u,a)=>{const m=n("a-input"),l=n("a-form-item"),p=n("a-input-password"),y=n("a-form");return w(),$(y,{model:t.value,ref_key:"accountFormRef",ref:o,"label-col":{span:6},"wrapper-col":{span:18},autocomplete:"off"},{default:s(()=>[e(l,{label:u.$t("login.userName"),name:"name",rules:[{required:!0,message:u.$t("login.pleaseInputAccount")}]},{default:s(()=>[e(m,{value:t.value.name,"onUpdate:value":a[0]||(a[0]=b=>t.value.name=b)},null,8,["value"])]),_:1},8,["label","rules"]),e(l,{label:u.$t("login.password"),name:"password",rules:[{required:!0,message:u.$t("login.pleaseInputPassword")}]},{default:s(()=>[e(p,{value:t.value.password,"onUpdate:value":a[1]||(a[1]=b=>t.value.password=b),onKeydown:G(f,["enter"])},null,8,["value","onKeydown"])]),_:1},8,["label","rules"])]),_:1},8,["model"])}}}),B=I({__name:"PhoneForm",setup(F,{expose:_}){const i=c(),o=c({phone:"",code:""});return _({validateForm:()=>new Promise((t,r)=>{i.value.validate().then(()=>{t(!0)}).catch(()=>{r(!1)})})}),(t,r)=>{const f=n("a-input"),u=n("a-form-item"),a=n("a-button"),m=n("a-input-group"),l=n("a-form");return w(),$(l,{model:o.value,ref_key:"phoneFormRef",ref:i,"label-col":{span:6},"wrapper-col":{span:18},autocomplete:"off"},{default:s(()=>[e(u,{label:t.$t("form.cellphone"),name:"phone",rules:[{required:!0,message:t.$t("login.pleaseInputPhone")}]},{default:s(()=>[e(f,{value:o.value.phone,"onUpdate:value":r[0]||(r[0]=p=>o.value.phone=p)},null,8,["value"])]),_:1},8,["label","rules"]),e(u,{label:t.$t("login.code"),name:"code",rules:[{required:!0,message:t.$t("login.pleaseInputCode")}]},{default:s(()=>[e(m,{compact:""},{default:s(()=>[e(f,{value:o.value.code,"onUpdate:value":r[1]||(r[1]=p=>o.value.code=p),style:{width:"56%"}},null,8,["value"]),e(a,{type:"primary"},{default:s(()=>[k(h(t.$t("login.getCode")),1)]),_:1})]),_:1})]),_:1},8,["label","rules"])]),_:1},8,["model"])}}}),D={class:"login-container"},H={class:"login-left"},N=["src"],O={class:"login-right"},T={class:"login-box"},X={class:"remember-password"},Y=I({__name:"LoginBox",setup(F){const _=E(),i=c("1"),o=c(),t=c(),r=c(!0),f=async()=>{var a,m;i.value==="1"&&((a=o.value)==null||a.validateForm().then(()=>{var l,p;r.value?(g.setItem("cmsAccount",(l=o.value)==null?void 0:l.accountFormState.name),g.setItem("cmsPassword",(p=o.value)==null?void 0:p.accountFormState.password)):(g.removeItem("cmsAccount"),g.removeItem("cmsPassword"))}),await Q.accountLogin((m=o.value)==null?void 0:m.accountFormState).then(l=>{g.setItem("cmsToken",l.data.token),g.setItem("cmsUserID",l.data.id),V().then(()=>{_.push("/main")})}).catch(l=>{console.warn(l)}))},u=a=>new URL(Object.assign({"../../assets/img/1.png":x,"../../assets/img/2.png":A,"../../assets/img/3.png":K,"../../assets/img/4.png":R,"../../assets/img/5.png":q,"../../assets/img/6.png":C,"../../assets/img/7.png":S})[`../../assets/img/${a}.png`],self.location);return(a,m)=>{const l=n("a-carousel"),p=n("a-tab-pane"),y=n("a-tabs"),b=n("a-checkbox"),z=n("a-button");return w(),P("div",D,[d("div",H,[e(l,{autoplay:"",dotsClass:"dot"},{default:s(()=>[(w(),P(J,null,M(7,v=>d("div",{key:v},[d("img",{src:u(v),alt:""},null,8,N)])),64))]),_:1})]),d("div",O,[d("div",T,[e(y,{activeKey:i.value,"onUpdate:activeKey":m[0]||(m[0]=v=>i.value=v),centered:""},{default:s(()=>[e(p,{key:"1"},{tab:s(()=>[e(L(ee)),d("span",null,h(a.$t("login.passwordLogin")),1)]),default:s(()=>[e(j,{ref_key:"accountFormRef",ref:o,onHandleLogin:f},null,512)]),_:1}),e(p,{key:"2"},{tab:s(()=>[e(L(ae)),d("span",null,h(a.$t("login.phoneLogin")),1)]),default:s(()=>[e(B,{ref_key:"phoneFormRef",ref:t},null,512)]),_:1})]),_:1},8,["activeKey"]),d("div",X,[e(b,{checked:r.value,"onUpdate:checked":m[1]||(m[1]=v=>r.value=v)},{default:s(()=>[k(h(a.$t("login.rememberPassword")),1)]),_:1},8,["checked"])]),e(z,{class:"submit-btn",type:"primary",onClick:f},{default:s(()=>[k(h(a.$t("login.login")),1)]),_:1})])])])}}});U=W(Y,[["__scopeId","data-v-7de6af6c"]])});export{te as __tla,U as default};
